
```{r, include=F}

library(rsconnect)
library(tidyverse)
library(plotly)

theme_set(theme_minimal())

```

```{r, include=F}

events <- read_csv('data/events_small.csv') %>% select(-1)

# matches <- read_csv('data/matches.csv') %>% select(-1)

players <- read_csv('data/players.csv') %>% 
  select(-1) %>%
  mutate(
    name = stringi::stri_unescape_unicode(name),
    shortName = stringi::stri_unescape_unicode(shortName),
    teamId = as.double(teamId),
    foot = case_when(
      foot == "right" ~ "Right",
      foot == "left" ~ "Left",
      foot == "both" ~ "Both",
      TRUE ~ "NA"
    )
  )

# competitions <- read_csv('data/competitions.csv') %>% select(-1)

teams <- read_csv('data/teams.csv') %>% select(-1)

```

```{r}

events %>% 
  filter(matchId == 2576335) %>%
  group_by(eventName) %>%
  summarize(count = n(), .groups = 'drop') %>%
  arrange(desc(count)) %>%
  ggplot(aes(x = reorder(eventName, count), y = count)) + 
    geom_col() + 
    coord_flip()

```

```{r}


```




